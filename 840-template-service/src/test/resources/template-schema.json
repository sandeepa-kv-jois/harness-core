{
  "type":"object",
  "properties":{
    "template":{
      "$ref":"#/definitions/NGTemplateInfoConfig"
    }
  },
  "$schema":"http://json-schema.org/draft-07/schema#",
  "definitions":{
    "JsonNode":{
      "type":"object",
      "$schema":"http://json-schema.org/draft-07/schema#"
    },
    "NGTemplateConfig":{
      "type":"object",
      "properties":{
        "template":{
          "$ref":"#/definitions/NGTemplateInfoConfig"
        }
      },
      "$schema":"http://json-schema.org/draft-07/schema#"
    },
    "NGTemplateInfoConfig":{
      "type":"object",
      "required":[
        "identifier",
        "name",
        "type",
        "versionLabel"
      ],
      "properties":{
        "description":{
          "type":"string"
        },
        "identifier":{
          "type":"string",
          "pattern":"^[a-zA-Z_][0-9a-zA-Z_$]{0,63}$"
        },
        "name":{
          "type":"string",
          "pattern":"^[a-zA-Z_][-0-9a-zA-Z_\\s]{0,63}$"
        },
        "spec":{
          "$ref":"#/definitions/JsonNode"
        },
        "tags":{
          "type":"object",
          "additionalProperties":{
            "type":"string"
          }
        },
        "type":{
          "type":"string",
          "enum":[
            "Step",
            "Stage",
            "Pipeline",
            "MonitoredService",
            "SecretManager"
          ]
        },
        "versionLabel":{
          "type":"string",
          "pattern":"^[0-9a-zA-Z][^\\s]{0,63}$"
        }
      },
      "$schema":"http://json-schema.org/draft-07/schema#"
    }
  }
}